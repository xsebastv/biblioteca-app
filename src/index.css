/* === NUEVO SISTEMA DE DISEÑO PARA BIBLIOTECA DIGITAL (2025) === */

:root {
  /* Paleta moderna clara optimizada para legibilidad */
  --color-bg: #ffffff;              /* Fondo base completamente blanco */
  --color-bg-alt: #ffffff;          /* Paneles blancos puros */
  --color-bg-soft: #f8fafc;         /* Bloques suaves muy claros */
  --color-surface: #ffffff;         /* Superficies principales */
  --color-surface-alt: #fafbfc;     /* Variante muy sutil */
  --color-border: #e2e8f0;          /* Bordes sutiles pero visibles */
  --color-border-strong: #cbd5e1;   /* Bordes enfatizados */
  --color-shadow: 230 10% 20%;      /* Sombras más suaves */

  --color-primary: #6366f1;         /* Indigo vibrante moderno */
  --color-primary-rgb: 99 102 241;
  --color-primary-hover: #4f46e5;
  --color-primary-soft: #eef2ff;    /* Fondo suave índigo */

  --color-accent: #f59e0b;          /* Ámbar energético */
  --color-accent-hover: #d97706;
  --color-accent-soft: #fef3c7;

  --color-success: #10b981;         /* Verde esmeralda */
  --color-success-soft: #d1fae5;
  --color-danger: #ef4444;          /* Rojo coral moderno */
  --color-danger-soft: #fee2e2;
  --color-warning: #f59e0b;         /* Ámbar para advertencias */
  --color-warning-soft: #fef3c7;

  /* Nuevas variables semánticas mejoradas */
  --color-info: #3b82f6;           /* Azul cielo */
  --color-info-soft: #dbeafe;
  --color-neutral: #6b7280;        /* Gris moderno */
  --color-neutral-soft: #f3f4f6;

  /* Colores de texto optimizados para modo claro */
  --color-text-strong: #1f2937;     /* Negro suave con buen contraste */
  --color-text: #374151;           /* Gris oscuro principal - muy legible */
  --color-text-soft: #6b7280;      /* Gris medio para secundarios */
  --color-text-faint: #9ca3af;     /* Gris claro para elementos sutiles */
  --color-text-inverse: #ffffff;   /* Texto blanco para fondos oscuros */
  --color-text-muted: #d1d5db;     /* Texto muy sutil */

  /* Tipografía */
  --font-sans: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-size-xs: 0.7rem;
  --font-size-sm: 0.8rem;
  --font-size-base: 0.92rem;
  --font-size-md: 1rem;
  --font-size-lg: 1.15rem;
  --font-size-xl: 1.4rem;
  --font-size-2xl: 1.9rem;
  --font-size-3xl: 2.4rem;

  /* Espaciado escalado 4 */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;

  /* Radios */
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 16px;
  --radius-xl: 22px;
  --radius-pill: 999px;

  /* Sombras refinadas con depth */
  --shadow-xs: 0 1px 2px rgba(0,0,0,.04);
  --shadow-sm: 0 2px 4px rgba(0,0,0,.05), 0 1px 2px rgba(0,0,0,.03);
  --shadow-md: 0 4px 16px -4px rgba(26,32,44,.15), 0 2px 8px -2px rgba(26,32,44,.08);
  --shadow-lg: 0 12px 32px -8px rgba(26,32,44,.2), 0 4px 16px -4px rgba(26,32,44,.1);
  --shadow-xl: 0 20px 48px -12px rgba(26,32,44,.25), 0 8px 24px -6px rgba(26,32,44,.12);
  --shadow-focus: 0 0 0 4px rgba(41,82,204,.2);
  --shadow-glow: 0 0 20px rgba(41,82,204,.15);

  /* Transiciones / animación */
  --ease: cubic-bezier(.4,0,.2,1);
  --transition-fast: 140ms var(--ease);
  --transition: 220ms var(--ease);
  --transition-slow: 420ms var(--ease);

  /* Contenedor */
  --layout-max: 1340px;
}

/* Reset y base mejorado */
* { box-sizing:border-box; margin:0; padding:0; }
*::before, *::after { box-sizing:border-box; }

html { 
  font-family: var(--font-sans); 
  -webkit-font-smoothing: antialiased; 
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-sans);
  font-size: var(--font-size-base);
  line-height: 1.55;
  background: linear-gradient(180deg,#ffffff 0%,#f9fbff 65%, #fff7fb 100%);
  min-height:100vh;
  color: var(--color-text);
  display:flex;
  flex-direction:column;
  overflow-x: hidden;
}

img,svg { display:block; max-width:100%; }
button { font-family:inherit; }

/* Enlaces */
a { color: var(--color-primary); text-decoration:none; transition: color var(--transition-fast); }
a:hover { color: var(--color-primary-hover); }

/* Utilidades layout mejoradas */
.container { 
  width: 100%; 
  max-width: var(--layout-max); 
  margin: 0 auto; 
  padding: 0 var(--space-6); 
}

.stack { 
  display: flex; 
  flex-direction: column; 
  gap: var(--space-4); 
}

.h-stack { 
  display: flex; 
  align-items: center; 
  gap: var(--space-3); 
}

.grid-auto { 
  display: grid; 
  gap: var(--space-6); 
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); 
}

/* Micro-interacciones */
.interactive {
  cursor: pointer;
  transition: all var(--transition);
}

.interactive:hover {
  transform: translateY(-1px);
}

.interactive:active {
  transform: translateY(0);
}

/* Efectos de enfoque mejorados */
*:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* Selección de texto personalizada */
::selection {
  background: rgba(var(--color-primary-rgb), 0.2);
  color: var(--color-text-strong);
}

/* Smooth scroll para navegación */
html {
  scroll-padding-top: 80px;
}

/* Estados de carga y transiciones suaves */
.fade-enter {
  opacity: 0;
  transform: translateY(20px);
}

.fade-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: all var(--transition);
}

.fade-exit {
  opacity: 1;
  transform: translateY(0);
}

.fade-exit-active {
  opacity: 0;
  transform: translateY(-20px);
  transition: all var(--transition);
}

/* Tipografía semántica */
h1,h2,h3,h4 { font-weight:600; color:var(--color-text-strong); line-height:1.15; letter-spacing:-.5px; }
h1 { font-size: var(--font-size-3xl); }
h2 { font-size: var(--font-size-2xl); }
h3 { font-size: var(--font-size-xl); }
h4 { font-size: var(--font-size-lg); }
p { line-height:1.55; }
small { font-size: var(--font-size-xs); }

/* Sistema de botones mejorado */
.btn { 
  --btn-bg: var(--color-primary); 
  --btn-bg-hover: var(--color-primary-hover); 
  --btn-color: #fff; 
  --btn-border: transparent; 
  --btn-shadow: var(--shadow-sm); 
  --btn-shadow-hover: var(--shadow-lg);
  
  display: inline-flex; 
  align-items: center; 
  justify-content: center; 
  gap: .6rem; 
  font-weight: 600; 
  font-size: var(--font-size-sm); 
  padding: 0.8rem 1.4rem; 
  border-radius: var(--radius-lg); 
  border: 1px solid var(--btn-border); 
  background: var(--btn-bg); 
  color: var(--btn-color); 
  cursor: pointer; 
  transition: all var(--transition); 
  box-shadow: var(--btn-shadow); 
  position: relative;
  overflow: hidden;
  text-decoration: none;
  user-select: none;
}

.btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255,255,255,0.2), transparent);
  opacity: 0;
  transition: opacity var(--transition);
}

.btn:hover { 
  background: var(--btn-bg-hover); 
  box-shadow: var(--btn-shadow-hover); 
  transform: translateY(-3px); 
}

.btn:hover::before { opacity: 1; }

.btn:active { transform: translateY(-1px); }

.btn:focus-visible { 
  outline: none; 
  box-shadow: var(--shadow-focus), var(--btn-shadow-hover); 
}

/* Variantes de botones mejoradas para modo claro */
.btn-secondary { 
  --btn-bg: var(--color-surface); 
  --btn-bg-hover: var(--color-bg-soft); 
  --btn-color: var(--color-text-strong); 
  --btn-border: var(--color-border-strong); 
  border: 2px solid var(--color-border-strong);
}

.btn-secondary:hover {
  --btn-color: var(--color-primary);
  border-color: var(--color-primary);
}

.btn-danger { 
  --btn-bg: var(--color-danger); 
  --btn-bg-hover: #dc2626; 
  --btn-shadow-hover: 0 8px 20px -6px rgba(239,68,68,0.4);
  --btn-color: #ffffff;
}

.btn-accent { 
  --btn-bg: var(--color-accent); 
  --btn-bg-hover: var(--color-accent-hover); 
  --btn-shadow-hover: 0 8px 20px -6px rgba(245,101,101,0.4);
}

.btn-success { 
  --btn-bg: var(--color-success); 
  --btn-bg-hover: #2f855a; 
  --btn-shadow-hover: 0 8px 20px -6px rgba(56,161,105,0.4);
}

.btn-ghost { 
  --btn-bg: transparent; 
  --btn-bg-hover: var(--color-primary-soft); 
  --btn-color: var(--color-primary); 
  --btn-border: transparent; 
  box-shadow: none; 
}

.btn-outline {
  --btn-bg: transparent;
  --btn-bg-hover: var(--color-primary);
  --btn-color: var(--color-primary);
  --btn-border: var(--color-primary);
  box-shadow: none;
}
.btn-outline:hover { --btn-color: #fff; }

.btn-rounded { border-radius: var(--radius-pill); }

.btn-sm { 
  padding: 0.6rem 1rem; 
  font-size: var(--font-size-xs); 
  border-radius: var(--radius-md);
}

.btn-lg { 
  padding: 1rem 1.8rem; 
  font-size: var(--font-size-md); 
}

/* Estados deshabilitado */
button:disabled, .btn:disabled { 
  opacity: 0.5; 
  cursor: not-allowed; 
  transform: none; 
  pointer-events: none;
}

/* Tarjeta genérica mejorada */
.card { 
  background: var(--color-surface); 
  border: 1px solid var(--color-border); 
  border-radius: var(--radius-lg); 
  box-shadow: var(--shadow-sm); 
  padding: var(--space-6); 
  position: relative; 
  transition: all var(--transition);
  overflow: hidden;
}

.card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(41,82,204,0.02) 0%, transparent 50%);
  opacity: 0;
  transition: opacity var(--transition);
}

.card:hover { 
  box-shadow: var(--shadow-lg); 
  transform: translateY(-4px); 
  border-color: var(--color-border);
  background: var(--color-surface-alt);
}

.card:hover::before { opacity: 1; }

.card-header { 
  display: flex; 
  align-items: center; 
  justify-content: space-between; 
  margin-bottom: var(--space-5); 
  padding-bottom: var(--space-3);
  border-bottom: 1px solid var(--color-border);
}

.card-body { 
  display: flex; 
  flex-direction: column; 
  gap: var(--space-4); 
}

/* Badges mejorados */
.badge { 
  display: inline-flex; 
  align-items: center; 
  font-weight: 600; 
  font-size: var(--font-size-xs); 
  letter-spacing: 0.5px; 
  text-transform: uppercase; 
  padding: 0.4rem 0.8rem; 
  border-radius: var(--radius-pill); 
  background: var(--color-primary-soft); 
  color: var(--color-primary);
  border: 1px solid rgba(41,82,204,0.2);
  position: relative;
  overflow: hidden;
}

.badge::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(45deg, rgba(255,255,255,0.3), transparent);
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.badge:hover::before { opacity: 1; }

.badge-accent { 
  background: var(--color-accent-soft); 
  color: var(--color-accent);
  border-color: rgba(245,101,101,0.2);
}

.badge-success { 
  background: var(--color-success-soft); 
  color: var(--color-success);
  border-color: rgba(56,161,105,0.2);
}

.badge-danger { 
  background: var(--color-danger-soft); 
  color: var(--color-danger);
  border-color: rgba(229,62,62,0.2);
}

.badge-info { 
  background: var(--color-info-soft); 
  color: var(--color-info);
  border-color: rgba(49,130,206,0.2);
}

.badge-neutral { 
  background: var(--color-neutral-soft); 
  color: var(--color-neutral);
  border-color: rgba(113,128,150,0.2);
}

/* Sistema de formularios refinado */
form { width: 100%; }

.form-group { 
  display: flex; 
  flex-direction: column; 
  gap: 0.5rem; 
  margin-bottom: var(--space-4);
}

label { 
  font-size: var(--font-size-xs); 
  font-weight: 600; 
  text-transform: uppercase; 
  letter-spacing: 0.5px; 
  color: var(--color-text-soft); 
  display: block; 
  margin: 0 0 0.4rem; 
}

input[type="text"], 
input[type="search"], 
input[type="number"], 
input[type="url"], 
input[type="email"],
textarea { 
  width: 100%; 
  border: 2px solid var(--color-border); 
  background: var(--color-surface); 
  color: var(--color-text); 
  padding: 0.8rem 1rem; 
  font-size: var(--font-size-sm); 
  border-radius: var(--radius-lg); 
  outline: none; 
  transition: all var(--transition);
  font-family: inherit;
}

input:focus, textarea:focus { 
  border-color: var(--color-primary); 
  box-shadow: 0 0 0 4px rgba(var(--color-primary-rgb)/0.15), var(--shadow-sm); 
  background: var(--color-bg-alt);
  transform: translateY(-1px);
}

input:hover:not(:focus), textarea:hover:not(:focus) {
  border-color: var(--color-border-strong);
}

::placeholder { 
  color: var(--color-text-faint); 
  font-style: italic;
}

.input-error {
  border-color: var(--color-danger) !important;
  box-shadow: 0 0 0 4px rgba(229,62,62,0.15) !important;
}

.error-message {
  color: var(--color-danger);
  font-size: var(--font-size-xs);
  margin-top: 0.25rem;
  font-weight: 500;
}

/* Estados */
.empty { text-align:center; padding:var(--space-12) var(--space-6); background:var(--color-surface); border:1px dashed var(--color-border); border-radius:var(--radius-lg); }

/* Animaciones refinadas */
@keyframes fade-in { 
  from { opacity: 0; transform: translateY(12px) scale(0.98); } 
  to { opacity: 1; transform: translateY(0) scale(1); } 
}

@keyframes slide-up { 
  from { opacity: 0; transform: translateY(24px); } 
  to { opacity: 1; transform: translateY(0); } 
}

@keyframes scale-in { 
  from { opacity: 0; transform: scale(0.9); } 
  to { opacity: 1; transform: scale(1); } 
}

@keyframes float { 
  0%, 100% { transform: translateY(0); } 
  50% { transform: translateY(-4px); } 
}

@keyframes pulse { 
  0%, 100% { opacity: 1; } 
  50% { opacity: 0.7; } 
}

@keyframes shimmer {
  0% { background-position: -200px 0; }
  100% { background-position: calc(200px + 100%) 0; }
}

.fade-in { animation: fade-in 0.6s var(--ease); }
.slide-up { animation: slide-up 0.8s var(--ease); }
.scale-in { animation: scale-in 0.5s var(--ease); }
.float { animation: float 3s ease-in-out infinite; }
.pulse { animation: pulse 2s ease-in-out infinite; }

/* Loading shimmer effect */
.shimmer {
  background: linear-gradient(90deg, transparent, rgba(41,82,204,0.1), transparent);
  background-size: 200px 100%;
  animation: shimmer 1.5s infinite;
}

/* Scrollbar refinado (WebKit) */
*::-webkit-scrollbar { width:10px; height:10px; }
*::-webkit-scrollbar-track { background:transparent; }
*::-webkit-scrollbar-thumb { background:linear-gradient(var(--color-primary-soft),#d4def2); border-radius:20px; border:2px solid #f5f7fa; }
*::-webkit-scrollbar-thumb:hover { background:linear-gradient(#c3d3f5,#b6c6ec); }

/* Responsivo básico */
@media (max-width: 860px){ .container { padding:0 var(--space-4);} h1{font-size:2rem;} }
@media (max-width: 560px){ .container { padding:0 var(--space-3);} h1{font-size:1.7rem;} h2{font-size:1.3rem;} }

/* Modo oscuro opcional (auto) */
@media (prefers-color-scheme: dark){
  :root {
    --color-bg: #0f141a;
    --color-bg-alt: #161d26;
    --color-bg-soft: #1e2631;
    --color-surface: #1d252f;
    --color-surface-alt: #232c37;
    --color-border: #2f3945;
    --color-border-strong: #424f5e;
    --color-text-strong: #f5f8fb;
    --color-text: #e3e9ef;
    --color-text-soft: #b6c2cf;
    --color-text-faint: #7f8b97;
    --color-primary-soft: #24396f;
    --color-accent-soft: #4a3028;
  }
  body { background:linear-gradient(180deg,#121a23,#182330); }
  .card { background:var(--color-surface); }
  input { background:var(--color-bg-soft); }
  *::-webkit-scrollbar-thumb { background:linear-gradient(#314975,#283d61); border:2px solid #121a23; }
}