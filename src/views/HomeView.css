/* === HomeView premium === */
.home-container { 
  width: 100%; 
  max-width: var(--layout-max); 
  margin: 0 auto; 
  padding: var(--space-8) var(--space-6); 
  display: flex; 
  flex-direction: column; 
  gap: var(--space-10); 
}

.search-section { 
  background: var(--color-surface); 
  padding: var(--space-8); 
  border: 1px solid var(--color-border); 
  border-radius: var(--radius-xl); 
  box-shadow: var(--shadow-lg); 
  position: relative;
  overflow: hidden;
}

.search-section::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(41,82,204,0.03), rgba(245,101,101,0.02));
  pointer-events: none;
}

.books-section { 
  display: flex; 
  flex-direction: column; 
  gap: var(--space-8); 
}

.books-grid { 
  display: grid; 
  gap: var(--space-8); 
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); 
}

/* Bloque de búsqueda y agrupaciones */
.home-search-stack { display:flex; flex-direction:column; gap:var(--space-4); }
.home-search-header { display:flex; justify-content:space-between; align-items:center; gap:var(--space-4); flex-wrap:wrap; }
.home-search-title { margin:0; font-size:var(--font-size-xl); }
.home-search-actions { display:flex; gap:var(--space-3); align-items:center; }
.home-search-meta { display:flex; flex-wrap:wrap; gap:var(--space-3); align-items:center; }
.home-search-result-label { margin:0; font-size:var(--font-size-sm); color:var(--color-text-soft); }
.home-search-count { font-size:var(--font-size-xs); font-weight:600; background:var(--color-primary-soft); color:var(--color-primary); padding:.4rem .9rem; border-radius:var(--radius-pill); letter-spacing:.5px; }

.home-section-title { display:flex; align-items:center; gap:.75rem; font-size:var(--font-size-lg); margin:0; }
.home-group-badge { font-weight:500; font-size:var(--font-size-xs); background:var(--color-bg-soft); color:var(--color-text-soft); padding:.35rem .6rem; border-radius:var(--radius-pill); letter-spacing:.5px; }
.home-group-wrapper { display:flex; flex-direction:column; gap:2.5rem; }
.home-source-section { border:1px solid var(--color-border); border-radius:var(--radius-lg); padding:1rem 1.25rem 1.4rem; background:var(--color-surface-alt); box-shadow:var(--shadow-xs); }
.home-source-header { margin:0 0 .75rem; display:flex; align-items:center; gap:.75rem; font-size:var(--font-size-base); }
.home-source-count { font-weight:500; font-size:var(--font-size-xs); opacity:.65; }
/* Source badges específicos */
.book-source-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  font-size: var(--font-size-xs);
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  padding: 0.4rem 0.8rem;
  border-radius: var(--radius-pill);
  border: 1px solid;
  transition: all var(--transition);
  position: relative;
  overflow: hidden;
}

.book-source-badge::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(45deg, rgba(255,255,255,0.2), transparent);
  opacity: 0;
  transition: opacity var(--transition);
}

.book-source-badge:hover::before { opacity: 1; }

.source-icon {
  font-size: 0.9rem;
  filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1));
}

/* Colores específicos por fuente */
.source-google-books {
  background: #e8f0fe;
  color: #1a73e8;
  border-color: rgba(26,115,232,0.2);
}

.source-open-library {
  background: #e8f5e8;
  color: #137333;
  border-color: rgba(19,115,51,0.2);
}

.source-isbndb {
  background: #fef7e0;
  color: #ea8600;
  border-color: rgba(234,134,0,0.2);
}

.source-backup {
  background: var(--color-neutral-soft);
  color: var(--color-neutral);
  border-color: rgba(113,128,150,0.2);
}

.source-manual {
  background: var(--color-accent-soft);
  color: var(--color-accent);
  border-color: rgba(245,101,101,0.2);
}

/* Estados y utilidades */
.list-status { 
  text-align: center; 
  margin-top: 2rem; 
  font-size: var(--font-size-sm); 
  color: var(--color-text-soft);
  padding: 1rem;
  background: var(--color-bg-soft);
  border-radius: var(--radius-lg);
  border: 1px dashed var(--color-border);
}

.list-status-end { 
  color: var(--color-text-faint);
  background: var(--color-surface);
  box-shadow: var(--shadow-sm);
}

/* Search form mejorado */
.search-form { 
  display: flex; 
  gap: 0.8rem; 
  align-items: flex-end;
  position: relative;
}

.search-form input { 
  flex: 1; 
  height: 48px;
  border-radius: var(--radius-xl);
  border: 2px solid var(--color-border);
  background: var(--color-bg-alt);
  transition: all var(--transition);
}

.search-form input:focus {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-focus), var(--shadow-md);
  background: var(--color-surface);
}

.search-form button { 
  border: none; 
  height: 48px;
  min-width: 48px;
  border-radius: var(--radius-xl);
  font-weight: 600;
}

@media (max-width:860px){ .home-container { padding:0 var(--space-4);} .search-section { padding:var(--space-5) var(--space-5) var(--space-4);} .books-grid { gap:var(--space-5);} }
@media (max-width:560px){ .home-container { padding:0 var(--space-3);} .books-grid { grid-template-columns:repeat(auto-fill,minmax(170px,1fr)); gap:var(--space-4);} }