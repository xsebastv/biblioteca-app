/* === FavoritesView premium === */
.favorites-container { 
  width: 100%; 
  max-width: var(--layout-max); 
  margin: 0 auto; 
  padding: var(--space-8) var(--space-6) var(--space-12); 
  display: flex; 
  flex-direction: column; 
  gap: var(--space-10);
  background: var(--color-bg);
  min-height: 100vh;
}

.favorites-header { 
  background: #ffffff; 
  color: var(--color-text-strong); 
  border-radius: var(--radius-lg); 
  padding: var(--space-8) var(--space-6); 
  position: relative; 
  overflow: hidden; 
  box-shadow: var(--shadow-sm); 
  text-align: center;
  border: 1px solid var(--color-border);
}

.favorites-header::before {
  content: '';
  position: absolute;
  inset: 0;
  background: transparent;
  mix-blend-mode: normal;
}

.favorites-header::after { 
  content: ""; 
  position: absolute; 
  inset: 0; 
  background: transparent; 
  mix-blend-mode: normal; 
}

.favorites-grid { 
  display: grid; 
  gap: var(--space-8); 
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); 
}

/* --- Favorites Header Enhancements --- */
.fav-title { margin: 0 0 4px 0; }
.fav-sub { margin: 0; font-size: 0.9rem; color: var(--text-secondary); }
.fav-actions { margin-top: 18px; }

/* --- Favorite Cards extracted from inline styles --- */
.fav-card { position: relative; }
.fav-thumb { width: 100%; height: 160px; border-radius: 12px; overflow: hidden; background: var(--surface-alt,#f0f3f9); display: flex; align-items: center; justify-content: center; margin-bottom: 12px; }
.fav-thumb-img { width: 100%; height: 100%; object-fit: cover; }
.fav-info { display: flex; flex-direction: column; gap: 4px; }
.fav-book-title { margin: 0; }
.fav-meta { margin: 0; font-size: 0.7rem; }
.fav-remove { position: absolute; top: 10px; right: 10px; }

/* --- Undo Toast mejorado (snackbar) --- */
.undo-toast { 
  position: fixed; 
  left: 50%; 
  bottom: 2rem; 
  transform: translateX(-50%); 
  background: rgba(248,250,252,0.98); 
  backdrop-filter: blur(12px);
  color: var(--color-text-strong); 
  padding: 1rem 1.5rem; 
  border-radius: var(--radius-xl); 
  display: flex; 
  gap: 1.2rem; 
  align-items: center; 
  box-shadow: var(--shadow-xl); 
  z-index: 1000; 
  animation: slide-up 0.4s var(--ease);
  border: 1px solid var(--color-border);
  max-width: 90vw;
}

.undo-btn { 
  background: var(--color-primary); 
  border: 1px solid var(--color-primary); 
  color: #fff; 
  padding: 0.5rem 1rem; 
  border-radius: var(--radius-lg); 
  cursor: pointer; 
  font-size: 0.8rem; 
  font-weight: 600;
  transition: all var(--transition); 
}

.undo-btn:hover { 
  background: var(--color-primary-dark); 
  border-color: var(--color-primary-dark);
  transform: translateY(-1px);
}

.undo-close { 
  background: var(--color-surface-alt); 
  border: 1px solid var(--color-border); 
  color: var(--color-text-soft); 
  font-size: 18px; 
  cursor: pointer; 
  line-height: 1; 
  padding: 0.4rem 0.6rem; 
  border-radius: var(--radius-md);
  transition: all var(--transition);
}

.undo-close:hover { 
  color: var(--color-danger); 
  background: var(--color-danger-soft);
  border-color: var(--color-danger);
  transform: scale(1.05);
}

.undo-text { 
  font-size: 0.85rem;
  font-weight: 500;
}

@media (max-width: 600px) {
	.undo-toast { width: calc(100% - 32px); left: 16px; transform: none; }
	.fav-thumb { height: 140px; }
}

/* --- Add Favorite Form Layout --- */
.add-fav-form { display: flex; flex-direction: column; gap: 14px; }
.fav-form-row { display: flex; gap: 12px; }
.fav-flex-1 { flex: 1; }
.fav-flex-2 { flex: 2; }

@media (max-width: 680px) {
	.fav-form-row { flex-direction: column; }
	.fav-flex-1, .fav-flex-2 { flex: unset; }
}
.empty-favorites { 
  text-align: center; 
  padding: var(--space-16) var(--space-8); 
  background: var(--color-surface); 
  border: 2px dashed var(--color-border); 
  border-radius: var(--radius-xl); 
  color: var(--color-text-soft);
  position: relative;
  overflow: hidden;
}

.empty-favorites::before {
  content: '游눖';
  position: absolute;
  top: 2rem;
  left: 50%;
  transform: translateX(-50%);
  font-size: 4rem;
  opacity: 0.1;
  animation: float 3s ease-in-out infinite;
}

.empty-favorites h3 {
  font-size: var(--font-size-lg);
  margin-bottom: var(--space-3);
  color: var(--color-text);
}

.empty-favorites p {
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-6);
}

/* === RESPONSIVE FAVORITESVIEW === */

/* M칩viles peque침os (0-479px) */
@media (max-width: 479px) {
  .favorites-container { 
    padding: var(--space-4) var(--space-3) var(--space-6);
    gap: var(--space-6);
  }
  
  .favorites-header { 
    padding: var(--space-4);
    text-align: left;
  }
  
  .fav-title {
    font-size: 1.4rem;
  }
  
  .favorites-grid { 
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }
  
  .empty-favorites {
    padding: 2rem 1rem;
  }
  
  .empty-favorites h3 {
    font-size: 1.1rem;
  }
  
  .fav-actions {
    flex-direction: column !important;
    gap: 0.75rem !important;
    align-items: stretch !important;
  }
  
  .filter-group {
    justify-content: space-between;
  }
}

/* M칩viles grandes (480-767px) */
@media (min-width: 480px) and (max-width: 767px) {
  .favorites-container { 
    padding: var(--space-6) var(--space-4) var(--space-8);
  }
  
  .favorites-header { 
    padding: var(--space-5);
  }
  
  .favorites-grid { 
    grid-template-columns: 1fr;
    gap: var(--space-5);
  }
}

/* Tablets (768-1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  .favorites-container { 
    padding: var(--space-8) var(--space-5) var(--space-10);
  }
  
  .favorites-grid { 
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--space-6);
  }
}

/* Desktop peque침o (1024-1279px) */
@media (min-width: 1024px) and (max-width: 1279px) {
  .favorites-grid { 
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  }
}

/* Desktop grande (1280px+) */
@media (min-width: 1280px) {
  .favorites-grid { 
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  }
}